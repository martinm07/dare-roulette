var Pt=Object.defineProperty;var Ye=r=>{throw TypeError(r)};var Rt=(r,e,t)=>e in r?Pt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Xe=(r,e,t)=>Rt(r,typeof e!="symbol"?e+"":e,t),Pe=(r,e,t)=>e.has(r)||Ye("Cannot "+t);var _=(r,e,t)=>(Pe(r,e,"read from private field"),t?t.call(r):e.get(r)),L=(r,e,t)=>e.has(r)?Ye("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),U=(r,e,t,n)=>(Pe(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),D=(r,e,t)=>(Pe(r,e,"access private method"),t);import{k as Ct,l as Nt,g as a,n as zt,r as et,o as tt,q as Ft,I as Re,u as rt,v as Ne,w as Lt,x as nt,y as ze,E as Ot,z as Wt,A as Dt,B as Bt,C as Ht,D as qt,F as Ut,G as Vt,H as Jt,J as je,K as Ge,L as Yt,M as Xt,N as jt,O as Gt,P as Zt,Q as it,R as oe,S as Kt,T as st,U as Qt,V as $t,W as er,X as tr,Y as rr,Z as Ie,s as g,_ as nr,$ as ir,a0 as sr,a1 as ar,a2 as at,a3 as ot,d as lt,p as We,a as N,t as F,a4 as ue,a5 as W,b as z,e as De,j as ae,c as P,f as C,a6 as te,h as or,i as lr,a7 as cr,a8 as ur,a9 as Fe,aa as fr,ab as dr,ac as hr,m as vr}from"./svelte-DyNGU_nP.js";import{i as V}from"./if-DLm-t1Ci.js";/* empty css                 *//* empty css                      */function ct(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let _r=!1;function ut(r,e){return e}function gr(r,e,t,n){for(var i=[],s=e.length,o=0;o<s;o++)Wt(e[o].e,i,!0);var f=s>0&&i.length===0&&t!==null;if(f){var u=t.parentNode;Dt(u),u.append(t),n.clear(),$(r,e[0].prev,e[s-1].next)}Bt(i,()=>{for(var l=0;l<s;l++){var c=e[l];f||(n.delete(c.k),$(r,c.prev,c.next)),Ht(c.e,!f)}})}function ft(r,e,t,n,i,s=null){var o=r,f={flags:e,items:new Map,first:null};{var u=r;o=u.appendChild(Ct())}var l=null,c=!1,M=zt(()=>{var d=t();return Jt(d)?d:d==null?[]:rt(d)});Nt(()=>{var d=a(M),S=d.length;c&&S===0||(c=S===0,pr(d,f,o,i,e,n,t),s!==null&&(S===0?l?et(l):l=tt(()=>s(o)):l!==null&&Ft(l,()=>{l=null})),a(M))})}function pr(r,e,t,n,i,s,o){var f=r.length,u=e.items,l=e.first,c=l,M,d=null,S=[],b=[],y,m,w,R;for(R=0;R<f;R+=1){if(y=r[R],m=s(y,R),w=u.get(m),w===void 0){var h=c?c.e.nodes_start:t;d=yr(h,e,d,d===null?e.first:d.next,y,m,R,n,i,o),u.set(m,d),S=[],b=[],c=d.next;continue}if(br(w,y,R),w.e.f&Re&&et(w.e),w!==c){if(M!==void 0&&M.has(w)){if(S.length<b.length){var p=b[0],k;d=p.prev;var x=S[0],A=S[S.length-1];for(k=0;k<S.length;k+=1)Ze(S[k],p,t);for(k=0;k<b.length;k+=1)M.delete(b[k]);$(e,x.prev,A.next),$(e,d,x),$(e,A,p),c=p,d=A,R-=1,S=[],b=[]}else M.delete(w),Ze(w,c,t),$(e,w.prev,w.next),$(e,w,d===null?e.first:d.next),$(e,d,w),d=w;continue}for(S=[],b=[];c!==null&&c.k!==m;)c.e.f&Re||(M??(M=new Set)).add(c),b.push(c),c=c.next;if(c===null)continue;w=c}S.push(w),d=w,c=w.next}if(c!==null||M!==void 0){for(var I=M===void 0?[]:rt(M);c!==null;)c.e.f&Re||I.push(c),c=c.next;var T=I.length;if(T>0){var O=f===0?t:null;gr(e,I,O,u)}}Ne.first=e.first&&e.first.e,Ne.last=d&&d.e}function br(r,e,t,n){Lt(r.v,e),r.i=t}function yr(r,e,t,n,i,s,o,f,u,l){var c=(u&Ut)!==0,M=(u&Vt)===0,d=c?M?nt(i):ze(i):i,S=u&Ot?ze(o):o,b={i:S,v:d,k:s,a:null,e:null,prev:t,next:n};try{return b.e=tt(()=>f(r,d,S,l),_r),b.e.prev=t&&t.e,b.e.next=n&&n.e,t===null?e.first=b:(t.next=b,t.e.next=b.e),n!==null&&(n.prev=b,n.e.prev=b.e),b}finally{}}function Ze(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,i=e?e.e.nodes_start:t,s=r.e.nodes_start;s!==n;){var o=qt(s);i.before(s),s=o}}function $(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const Ke=[...` 	
\r\f \v\uFEFF`];function xr(r,e,t){var n=r==null?"":""+r;if(e&&(n=n?n+" "+e:e),t){for(var i in t)if(t[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,o=0;(o=n.indexOf(i,o))>=0;){var f=o+s;(o===0||Ke.includes(n[o-1]))&&(f===n.length||Ke.includes(n[f]))?n=(o===0?"":n.substring(0,o))+n.substring(f+1):o=f}}return n===""?null:n}function mr(r,e){return r==null?null:String(r)}function re(r,e,t,n,i,s){var o=r.__className;if(o!==t||o===void 0){var f=xr(t,n,s);f==null?r.removeAttribute("class"):r.className=f,r.__className=t}else if(s&&i!==s)for(var u in s){var l=!!s[u];(i==null||l!==!!i[u])&&r.classList.toggle(u,l)}return s}function Ee(r,e,t,n){var i=r.__style;if(i!==e){var s=mr(e);s==null?r.removeAttribute("style"):r.style.cssText=s,r.__style=e}return n}const wr=Symbol("is custom element"),Sr=Symbol("is html");function kr(r,e,t,n){var i=Er(r);i[e]!==(i[e]=t)&&(t==null?r.removeAttribute(e):typeof t!="string"&&dt(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function me(r,e,t){var n=Yt,i=Ne;je(null),Ge(null);try{e!=="style"&&(Le.has(r.nodeName)||!customElements||customElements.get(r.tagName.toLowerCase())?dt(r).includes(e):t&&typeof t=="object")?r[e]=t:kr(r,e,t==null?t:String(t))}finally{je(n),Ge(i)}}function Er(r){return r.__attributes??(r.__attributes={[wr]:r.nodeName.includes("-"),[Sr]:r.namespaceURI===jt})}var Le=new Map;function dt(r){var e=Le.get(r.nodeName);if(e)return e;Le.set(r.nodeName,e=[]);for(var t,n=r,i=Element.prototype;i!==n;){t=Gt(n);for(var s in t)t[s].set&&e.push(s);n=Xt(n)}return e}function Qe(r,e){return r===e||(r==null?void 0:r[st])===e}function Oe(r={},e,t,n){return Zt(()=>{var i,s;return it(()=>{i=s,s=(n==null?void 0:n())||[],oe(()=>{r!==t(...s)&&(e(r,...s),i&&Qe(t(...i),r)&&e(null,...i))})}),()=>{Kt(()=>{s&&Qe(t(...s),r)&&e(null,...s)})}}),r}let we=!1;function Mr(r){var e=we;try{return we=!1,[r(),we]}finally{we=e}}function $e(r){var e;return((e=r.ctx)==null?void 0:e.d)??!1}function Ce(r,e,t,n){var k;var i=(t&sr)!==0,s=!0,o=(t&nr)!==0,f=(t&ar)!==0,u=!1,l;o?[l,u]=Mr(()=>r[e]):l=r[e];var c=st in r||ir in r,M=o&&(((k=Qt(r,e))==null?void 0:k.set)??(c&&e in r&&(x=>r[e]=x)))||void 0,d=n,S=!0,b=!1,y=()=>(b=!0,S&&(S=!1,f?d=oe(n):d=n),d);l===void 0&&n!==void 0&&(M&&s&&$t(),l=y(),M&&M(l));var m;if(m=()=>{var x=r[e];return x===void 0?y():(S=!0,b=!1,x)},!(t&er))return m;if(M){var w=r.$$legacy;return function(x,A){return arguments.length>0?((!A||w||u)&&M(A?m():x),x):m()}}var R=!1,h=nt(l),p=tr(()=>{var x=m(),A=a(h);return R?(R=!1,A):h.v=x});return o&&a(p),i||(p.equals=rr),function(x,A){if(arguments.length>0){const I=A?a(p):o?Ie(x):x;if(!p.equals(I)){if(R=!0,g(h,I),b&&d!==void 0&&(d=I),$e(p))return x;oe(()=>a(p))}return x}return $e(p)?p.v:a(p)}}function Te(r){at===null&&ct(),ot(()=>{const e=oe(r);if(typeof e=="function")return e})}function Ir(r){at===null&&ct(),Te(()=>()=>oe(r))}var Tr=(r,e)=>g(e,!a(e)),Ar=F("<ion-icon></ion-icon>",2),Pr=F("<ion-icon></ion-icon>",2),Rr=(r,e,t)=>e(a(t)),Cr=F('<div class="flex text-gray-200 text-2xl w-[calc(100%_-_48px)] items-center mx-6 py-2 border-b-2 border-b-gray-600 last-of-type:border-b-0"><div class="grow text-center"> </div> <div><button aria-label="Remove player" class="hover:text-gray-400 cursor-pointer"><ion-icon></ion-icon></button></div></div>',2),Nr=F('<div class="text-red-500 absolute left-6 -top-1"> </div>'),zr=F('<div class="top-0 right-0 h-screen fixed w-1/2 bg-gray-800 z-20 border-4 shadow-2xl shadow-gray-800 border-l-gray-600 flex flex-col"><div class="grow overflow-y-auto mt-20"></div> <form class="p-6 flex items-center justify-center relative" method="post"><!> <input type="text"> <button type="submit" class="ml-4 h-full border-4 border-green-500 rounded-xl aspect-square text-5xl text-green-500 cursor-pointer hover:bg-green-500/30" aria-label="Add player"><ion-icon></ion-icon></button></form></div>',2),Fr=F('<button aria-label="Manage Players"><!></button> <!>',1);function Lr(r,e){We(e,!0),console.log("hello world!");let t=N(!1),n=N(Ie(["bob","himbwafa","test1231"])),i=N(""),s=N(null);function o(y){y.preventDefault(),console.log("added plauer"),g(s,null),ae("/add_user",{method:"post",body:a(i),headers:{"Content-Type":"text/plain"}}).then(async m=>{m.ok?(a(n).push(a(i)),g(i,"")):g(s,await m.text(),!0)})}function f(y){ae("/remove_user",{method:"post",body:y,headers:{"Content-Type":"text/plain"}}).then(m=>{if(m.ok){const w=a(n).indexOf(y);w!==-1&&a(n).splice(w,1)}})}Te(()=>{ae("/get_users").then(y=>y.json()).then(y=>g(n,y,!0))});var u=Fr(),l=ue(u);l.__click=[Tr,t];var c=P(l);{var M=y=>{var m=Ar();me(m,"name","people-outline"),z(y,m)},d=y=>{var m=Pr();me(m,"name","close"),z(y,m)};V(c,y=>{a(t)?y(d,!1):y(M)})}var S=C(l,2);{var b=y=>{var m=zr(),w=P(m);ft(w,21,()=>a(n),ut,(T,O)=>{var Y=Cr(),K=P(Y),be=P(K),X=C(K,2),Q=P(X);Q.__click=[Rr,f,O];var ye=P(Q);me(ye,"name","trash-outline"),W(()=>te(be,a(O))),z(T,Y)});var R=C(w,2),h=P(R);{var p=T=>{var O=Nr(),Y=P(O);W(()=>te(Y,a(s))),z(T,O)};V(h,T=>{a(s)!==null&&T(p)})}var k=C(h,2);let x;var A=C(k,2),I=P(A);me(I,"name","add"),W(T=>x=re(k,1,"w-full border-4 border-green-500 rounded-xl text-3xl text-gray-200 outline-none px-6 py-3 focus:ring-8 ring-green-500/30 [&.error]:border-red-500 [&.error]:ring-red-500/30",null,x,T),[()=>({error:a(s)!==null})]),or("submit",R,o),lr(k,()=>a(i),T=>g(i,T)),z(y,m)};V(S,y=>{a(t)&&y(b)})}W(()=>re(l,1,`${(a(t)?"fixed":"absolute")??""} text-6xl text-gray-200 top-4 right-4 cursor-pointer hover:text-gray-400 z-30`)),z(r,u),De()}lt(["click"]);const Or="/static/main/aud/click-Hf2CT4va.wav",ht=typeof window<"u"?window:void 0;function Wr(r){let e=r.activeElement;for(;e!=null&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Dr(r){g(r,r.v+1)}function vt(r){let e=0,t=ze(0),n;return()=>{cr()&&(a(t),it(()=>(e===0&&(n=oe(()=>r(()=>Dr(t)))),e+=1,()=>{ur().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var fe,ge;class Br{constructor(e={}){L(this,fe);L(this,ge);const{window:t=ht,document:n=t==null?void 0:t.document}=e;t!==void 0&&(U(this,fe,n),U(this,ge,vt(i=>{const s=Fe(t,"focusin",i),o=Fe(t,"focusout",i);return()=>{s(),o()}})))}get current(){var e;return(e=_(this,ge))==null||e.call(this),_(this,fe)?Wr(_(this,fe)):null}}fe=new WeakMap,ge=new WeakMap;new Br;function Hr(r,e){switch(r){case"post":ot(e);break;case"pre":fr(e);break}}function _t(r,e,t,n={}){const{lazy:i=!1}=n;let s=!i,o=Array.isArray(r)?[]:void 0;Hr(e,()=>{const f=Array.isArray(r)?r.map(l=>l()):r();if(!s){s=!0,o=f;return}const u=oe(()=>t(f,o));return o=f,u})}function gt(r,e,t){_t(r,"post",e,t)}function qr(r,e,t){_t(r,"pre",e,t)}gt.pre=qr;function Ur(r){return!!r&&typeof r=="object"&&"to"in r&&"from"in r&&"event"in r&&"args"in r}var H,ne,Z,pt,_e;class Vr{constructor(e,t){L(this,Z);L(this,H,N());Xe(this,"states");L(this,ne,{});g(_(this,H),e,!0),this.states=t,this.send=this.send.bind(this),this.debounce=this.debounce.bind(this),D(this,Z,_e).call(this,"_enter",{from:null,to:e,event:null,args:[]})}send(e,...t){const n=D(this,Z,_e).call(this,e,...t);return n&&n!==a(_(this,H))&&D(this,Z,pt).call(this,n,e,t),a(_(this,H))}async debounce(e=500,t,...n){return _(this,ne)[t]&&clearTimeout(_(this,ne)[t]),new Promise(i=>{_(this,ne)[t]=setTimeout(()=>{delete _(this,ne)[t],i(this.send(t,...n))},e)})}get current(){return a(_(this,H))}}H=new WeakMap,ne=new WeakMap,Z=new WeakSet,pt=function(e,t,n){const i={from:a(_(this,H)),to:e,event:t,args:n};D(this,Z,_e).call(this,"_exit",i),g(_(this,H),e,!0),D(this,Z,_e).call(this,"_enter",i)},_e=function(e,...t){var i,s;const n=((i=this.states[a(_(this,H))])==null?void 0:i[e])??((s=this.states["*"])==null?void 0:s[e]);if(n instanceof Function)if(e==="_enter"||e==="_exit")Ur(t[0])?n(t[0]):console.warn("Invalid metadata passed to lifecycle function of the FSM.");else return n(...t);else{if(typeof n=="string")return n;e!=="_enter"&&e!=="_exit"&&console.warn("No action defined for event",e,"in state",a(_(this,H)))}};function Jr(r,e){switch(r){case"local":return e.localStorage;case"session":return e.sessionStorage}}var ie,G,de,se,pe,q,Me,J,Se,ke;class Yr{constructor(e,t,n={}){L(this,J);L(this,ie);L(this,G);L(this,de);L(this,se);L(this,pe);L(this,q,N(0));L(this,Me,e=>{e.key!==_(this,G)||e.newValue===null||(U(this,ie,D(this,J,Se).call(this,e.newValue)),g(_(this,q),a(_(this,q))+1))});const{storage:i="local",serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:o=!0,window:f=ht}=n;if(U(this,ie,t),U(this,G,e),U(this,de,s),f===void 0)return;const u=Jr(i,f);U(this,se,u);const l=u.getItem(e);l!==null?U(this,ie,D(this,J,Se).call(this,l)):D(this,J,ke).call(this,t),o&&i==="local"&&U(this,pe,vt(()=>Fe(f,"storage",_(this,Me))))}get current(){var i,s;(i=_(this,pe))==null||i.call(this),a(_(this,q));const e=D(this,J,Se).call(this,(s=_(this,se))==null?void 0:s.getItem(_(this,G)))??_(this,ie),t=new WeakMap,n=o=>{if(o===null||(o==null?void 0:o.constructor.name)==="Date"||typeof o!="object")return o;let f=t.get(o);return f||(f=new Proxy(o,{get:(u,l)=>(a(_(this,q)),n(Reflect.get(u,l))),set:(u,l,c)=>(g(_(this,q),a(_(this,q))+1),Reflect.set(u,l,c),D(this,J,ke).call(this,e),!0)}),t.set(o,f)),f};return n(e)}set current(e){D(this,J,ke).call(this,e),g(_(this,q),a(_(this,q))+1)}}ie=new WeakMap,G=new WeakMap,de=new WeakMap,se=new WeakMap,pe=new WeakMap,q=new WeakMap,Me=new WeakMap,J=new WeakSet,Se=function(e){try{return _(this,de).deserialize(e)}catch(t){console.error(`Error when parsing "${e}" from persisted store "${_(this,G)}"`,t);return}},ke=function(e){var t;try{e!=null&&((t=_(this,se))==null||t.setItem(_(this,G),_(this,de).serialize(e)))}catch(n){console.error(`Error when writing value from persisted store "${_(this,G)}" to ${_(this,se)}`,n)}};var Xr=F("<div></div>"),jr=F('<div id="roulette-wheel" class="roulette-wheel svelte-3khc5n"></div> <div class="w-20 h-20 bg-green-500 svelte-3khc5n" id="pointer"></div>',1);function Gr(r,e){We(e,!0);let t=Ce(e,"isSpinning",15,!1),n=Ce(e,"disabled",3,!1),i=Ce(e,"SPINTIME",3,15e3),s=null,o=N(void 0),f=0,u,l=null;async function c(){u=new window.AudioContext;try{const p=await(await fetch(Or)).arrayBuffer();l=await u.decodeAudioData(p),console.log("Click sound loaded successfully")}catch(h){console.error("Error loading sound:",h)}}function M(){if(!u||!l){console.warn("Audio not initialized or sound not loaded yet");return}const h=u.createBufferSource();h.buffer=l,h.connect(u.destination),h.start(0)}function d(h){const p=(1-h)**.3333333333333333;return(1-p)*(1-1.34*p+.91*p**2)}function S(h,p,k,x=!0){const A=x?k-1:k,I=(p-h)/A;return Array.from({length:k},(T,O)=>h+I*O)}function b(){if(t()||!s)return;t(!0);let h;for(;h=Math.floor(Math.random()*e.dares.length),!!e.dares.some((X,Q)=>X.played&&Q===h););g(o,h,!0);const p=parseFloat(s.style.transform.replace(/[^0-9.-]/g,""))||0,k=Math.floor(Math.abs(p)/360),x=a(o)/e.dares.length*360,A=Math.floor((Math.random()*2-1)*(180/e.dares.length)),I=(k+4)*360+x;s.style.transform=`rotate(-${I+A}deg)`;const T=360/e.dares.length,O=Math.abs(p-T/2)%T/T,Y=Math.abs(I+A-T/2)%T/T,K=Math.floor((I-f)*(e.dares.length/360));S((1-O)/K,1-Y/K,K).map(X=>i()*d(X)).forEach(X=>setTimeout(M,Math.max(0,X-100))),f=I,setTimeout(()=>{e.onSpinFinish(e.dares[a(o)]),t(!1),a(o)!==void 0&&ae("/set_played",{method:"post",body:JSON.stringify({content:e.dares[a(o)].content,by:e.dares[a(o)].by})})},i())}function y(){ae("/set_used",{method:"post"}).then(()=>{g(o,void 0)})}let m=Ie([]);Te(()=>{c()}),gt(()=>i(),()=>{s&&(s.style.transitionDuration=`${i()}ms`)});var w=jr(),R=ue(w);return ft(R,21,()=>e.dares,ut,(h,p,k)=>{var x=Xr();let A;x.textContent=`Mysterious #${k+1}`,Oe(x,(I,T)=>m[T]=I,I=>m==null?void 0:m[I],()=>[k]),W(I=>{A=re(x,1,"roulette-segment [.inactive]:text-gray-400 text-gray-800 font-bold svelte-3khc5n",null,A,I),Ee(x,`--i: ${k??""}; background-color: ${a(p).colour??""};`)},[()=>({inactive:n()})]),z(h,x)}),Oe(R,h=>s=h,()=>s),W(()=>Ee(R,`--n: ${e.dares.length??""};`)),z(r,w),De({spinWheel:b,resetWheel:y})}function Zr(){return`hsl(${Math.floor(Math.random()*360)}, 70%, 85%)`}function Kr(r,e,t,n){g(e,!0),ae("/pick_user").then(i=>i.text()).then(i=>g(t,i,!0)),n.debounce(1500,"startdares")}function Qr(r,e){var t;(t=a(e))==null||t.spinWheel()}var $r=F('<button id="choose-player-button" class="my-4 transition-all px-4 py-2 rounded-2xl z-10 relative block cursor-pointer disabled:opacity-50 disabled:cursor-wait mb-40 border-8 border-green-500 text-green-500 text-2xl font-bold hover:px-8 ring-green-500/30 hover:ring-8 hover:bg-green-500/30 hover:text-green-400 disabled:pointer-events-none">Select the Victim</button>'),en=F('<button id="spin-button" class="my-4 bg-green-500 transition-colors hover:bg-green-700 text-white px-4 py-2 rounded z-10 relative block cursor-pointer disabled:opacity-50 disabled:cursor-wait mb-40">Spin the Wheel!!!</button>'),tn=F('<span id="display-user"> </span>'),rn=F('<br><span id="display-dare" class="relative z-50 transition-all duration-1000 group-[.choice]:!text-gray-700"> </span>',1),nn=(r,e,t,n)=>{g(e,t(),!0),g(n,"forfeit")},sn=(r,e)=>{g(e,"accept")},an=F('<button class="cursor-pointer px-8 py-4 text-2xl text-red-700 border-8 rounded-2xl border-red-700 transition-colors hover:bg-red-700/30 hover:text-red-900 mr-8">Forfeit</button> <button class="cursor-pointer px-8 py-4 text-2xl text-green-700 border-8 rounded-2xl border-green-700 transition-colors hover:bg-green-700/30 hover:text-green-900">Accept</button>',1),on=F(`<span class="text-green-700 text-2xl">We're waiting...</span>`),ln=F('<span class="text-red-700 text-2xl"> </span>'),cn=F('<!> <button class="ml-6 text-2xl underline hover:no-underline text-gray-700 cursor-pointer"> </button>',1),un=F('<div><a href="/" class="absolute top-4 left-4 text-gray-200 text-xl underline">← Back to home page</a> <!> <h1 class="text-white text-3xl mb-4"> </h1> <span class="flex flex-col items-center"><!></span> <span><!></span> <div id="selected-dare"><!> <!> <div class="text-center mt-4 absolute w-full"><!></div></div> <div>Waiting for submissions...</div> <div class="absolute right-5 bottom-5 text-2xl"><div><label for="allow-repeats" class="text-gray-200">Allow Repeats?</label> <input class="w-10 h-5" type="checkbox" name="allow-repeats" id="allow-repeats"></div> <div class="mt-8"><button class="bg-none boder-gray-200 border-2 rounded-xl px-6 py-3 text-gray-200 underline hover:no-underline cursor-pointer">Reset Wheel</button></div></div></div>');function fn(r,e){We(e,!0);let t=N(Ie([])),n=N(void 0),i=N(!1);const s=new Yr("round",1);let o=N(!1),f=N(!1),u=N(""),l=N(""),c=N(void 0),M;Te(()=>{M=setInterval(()=>{h.current==="player"&&ae("/get_dares").then(v=>v.json()).then(v=>{for(let E=0;E<v.length;E++)E>=a(t).length?v[E].colour=Zr():v[E].colour=a(t)[E].colour;g(t,v,!0)})},1e3)}),Ir(()=>{clearInterval(M)});let d=N(!1),S=N(!1),b=N(null),y=N("");function m(v){console.log("Hello world, this wheel has finished spinning."),g(u,v.content,!0),g(l,v.colour,!0),h.debounce(1e3,"startchoice"),setTimeout(()=>g(S,!0),2200)}const w=["Take 1 shot","Take 2 shots","Take 3 shots","Take 4 shots"];function R(){return w[Math.floor(Math.random()*w.length)]}const h=new Vr("player",{player:{_enter:()=>{g(u,""),g(l,""),g(c,void 0),g(i,!0),g(d,!1),g(S,!1),g(b,null),g(y,"")},startdares:"dares"},dares:{_enter:()=>{g(i,!1)},startchoice:"choice"},choice:{startplayer:"player"}});var p=un();let k;var x=C(P(p),2);Lr(x,{});var A=C(x,2),I=P(A),T=C(A,2),O=P(T);Oe(Gr(O,{get dares(){return a(t)},onSpinFinish:m,get disabled(){return a(i)},get isSpinning(){return a(o)},set isSpinning(v){g(o,v,!0)}}),v=>g(n,v,!0),()=>a(n));var Y=C(T,2),K=P(Y);{var be=v=>{var E=$r();E.__click=[Kr,d,c,h],W(()=>E.disabled=a(d)),z(v,E)},X=(v,E)=>{{var B=j=>{var ee=en();ee.__click=[Qr,n],W(()=>ee.disabled=a(o)||a(t).length<2),z(j,ee)};V(v,j=>{(h.current==="dares"||h.current==="choice")&&j(B)},E)}};V(K,v=>{h.current==="player"?v(be):v(X,!1)})}var Q=C(Y,2);let ye;var Be=P(Q);{var bt=v=>{var E=tn();let B;var j=P(E);W(ee=>{B=re(E,1,"[.isLone]:text-red-300 text-gray-200 relative z-50 transition-all duration-1000 group-[.choice]:text-gray-600",null,B,ee),te(j,a(c))},[()=>({isLone:!a(u)})]),z(v,E)};V(Be,v=>{a(c)&&v(bt)})}var He=C(Be,2);{var yt=v=>{var E=rn(),B=C(ue(E)),j=P(B);W(()=>{Ee(B,`color: ${a(l)??""};`),te(j,a(u))}),z(v,E)};V(He,v=>{a(u)&&v(yt)})}var xt=C(He,2),mt=P(xt);{var wt=v=>{var E=hr(),B=ue(E);{var j=le=>{var he=an(),ve=ue(he);ve.__click=[nn,y,R,b];var Ae=C(ve,2);Ae.__click=[sn,b],z(le,he)},ee=le=>{var he=cn(),ve=ue(he);{var Ae=ce=>{var xe=on();z(ce,xe)},It=ce=>{var xe=ln(),At=P(xe);W(()=>te(At,a(y))),z(ce,xe)};V(ve,ce=>{a(b)==="accept"?ce(Ae):ce(It,!1)})}var Je=C(ve,2);Je.__click=()=>{h.send("startplayer"),s.current+=1};var Tt=P(Je);W(()=>te(Tt,a(b)==="accept"?"We're finished waiting":"Continue")),z(le,he)};V(B,le=>{a(b)===null?le(j):le(ee,!1)})}z(v,E)};V(mt,v=>{a(S)&&v(wt)})}var qe=C(Q,2);let Ue;var St=C(qe,2),Ve=P(St),kt=C(P(Ve),2),Et=C(Ve,2),Mt=P(Et);Mt.__click=function(...v){var E;(E=a(n).resetWheel)==null||E.apply(this,v)},W((v,E,B)=>{k=re(p,1,"app-container relative flex flex-col items-center justify-center min-h-screen bg-gray-800 overflow-hidden group",null,k,v),Ee(p,`transition: background-color 1s linear; ${(h.current==="choice"?`background-color: ${a(l)}`:"")??""}`),te(I,`Round ${s.current??""}`),ye=re(Q,1,"text-white px-1 py-2 absolute w-full text-center shadow-[0_0_20px_20px_rgba(0,0,0,0.8)] bg-[rgba(0,0,0,0.8)] text-3xl font-bold drop-shadow-2xl -mt-[230px] transition-all duration-1000 group-[.choice]:shadow-[0_0_20px_20px_rgba(0,0,0,0)] group-[.choice]:bg-[rgba(0,0,0,0)]",null,ye,E),Ue=re(qe,1,"absolute text-gray-400 text-7xl",null,Ue,B)},[()=>({choice:h.current==="choice"}),()=>({hidden:!a(c)&&!a(u)}),()=>({hidden:a(t).length>=2})]),dr(kt,()=>a(f),v=>g(f,v)),z(r,p),De()}lt(["click"]);vr(fn,{target:document.getElementById("app")});
