import{d as Y,p as A,t as _,f as n,c as s,i as C,a as f,W as g,g as o,h as J,j as N,s as c,b as x,e as O,k as F,Y as L,m as G}from"./svelte-DtLJqUBj.js";import{P as K,w as M,e as Q,b as R,a as y,s as q,i as U}from"./persisted-state.svelte-D1YmG_A9.js";/* empty css                 *//* empty css                        */var X=(u,d,r)=>{console.log("hello world I got clicked");const a=u.target,e=a.closest(".dare-item-container");console.log(a,e),e!=null&&e.classList.contains("isVisible")?(e.classList.remove("isVisible"),e.querySelector(".dare-item-content").textContent=d(o(r))):(e==null||e.classList.add("isVisible"),e.querySelector(".dare-item-content").textContent=o(r))},Z=_('<div class="group dare-item-container flex items-center justify-center pb-3 mb-3 border-b-2 border-b-gray-600 last-of-type:border-b-0"><div class="dare-item-content opacity-100 group-[.isVisible]:opacity-100 grow wrap-anywhere font-mono"> </div> <div class="text-3xl"><button class="flex items-center w-[30px] relative cursor-pointer hover:text-gray-400" aria-label="Toggle Visibility"><ion-icon></ion-icon> <ion-icon></ion-icon></button></div></div>',2),$=_('<div class="text-red-400 absolute left-6 -top-8 text-2xl font-bold"> </div>'),ee=(u,d)=>{c(d,null)},te=_('<div class="flex flex-col items-center min-h-screen bg-gray-800"><a href="/" class="absolute top-4 left-4 text-gray-200 text-xl underline">← Back to home page</a> <div class="text-gray-200 px-8 mt-20 h-[50vh] overflow-y-scroll w-full"></div> <form method="post" class="flex flex-col justify-center items-center relative mt-6"><!> <textarea name="content" id="content" placeholder="Write Your Dare" rows="1"></textarea> <button type="submit" class="mt-4 bg-green-500 transition-all hover:bg-green-700 text-gray-800 font-bold px-6 py-3 rounded z-10 relative block cursor-pointer disabled:opacity-50 disabled:cursor-wait text-xl">Submit Dare</button></form> <div class="absolute bottom-5 w-full text-center"><button class="underline text-xl text-gray-200">Clear History</button></div></div>');function oe(u,d){A(d,!0);let r=f(""),a=f(null);const e=new K("daresHistory",[]);M(()=>o(r),()=>{o(l)&&(o(l).style.height="0px",o(l).style.height=o(l).scrollHeight+"px")});let l=f(void 0);function z(t){t.preventDefault(),c(a,null),console.log("hello world!"),F("/add_dare",{method:"post",body:JSON.stringify({content:o(r)})}).then(async i=>{i.ok?(e.current=[...e.current,o(r)],c(r,"")):c(a,await i.text(),!0)})}function h(t){return t.replace(/[^\s]/g,"—")}var w=te(),k=n(s(w),2);Q(k,21,()=>e.current,U,(t,i)=>{var b=Z(),j=s(b),P=s(j),T=n(j,2),D=s(T);D.__click=[X,h,i];var m=s(D);q(m,"name","eye-outline"),y(m,1,"opacity-100 group-[.isVisible]:opacity-0 absolute");var H=n(m,2);q(H,"name","eye-off-outline"),y(H,1,"opacity-0 group-[.isVisible]:opacity-100 absolute"),g(W=>L(P,W),[()=>h(o(i))]),x(t,b)});var p=n(k,2),V=s(p);{var B=t=>{var i=$(),b=s(i);g(()=>L(b,o(a))),x(t,i)};C(V,t=>{o(a)!==null&&t(B)})}var v=n(V,2);let S;v.__input=[ee,a],R(v,t=>c(l,t),()=>o(l));var E=n(p,2),I=s(E);I.__click=()=>{e.current=[]},g(t=>S=y(v,1,"bg-gray-100 p-4 text-xl focus:outline-none font-mono border-2 border-gray-400 rounded-lg focus:ring-8 focus:ring-gray-400/30 [.error]:border-red-500 [.error]:ring-red-500/30 resize-none overflow-hidden svelte-yiv4jv",null,S,t),[()=>({error:o(a)!==null})]),J("submit",p,z),N(v,()=>o(r),t=>c(r,t)),x(u,w),O()}Y(["click","input"]);G(oe,{target:document.getElementById("app")});
